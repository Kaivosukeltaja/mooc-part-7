(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){n(31),e.exports=n(67)},67:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(24),i=n.n(a),u=n(9),c=n(25),l=n(3),s=n(69),f=n(65),p=n(1),b=n.n(p),m=n(28),d={backgroundColor:"#ffffff",padding:"1em",borderRadius:"4px",color:"#333333",margin:"0.25em 0"},y={fontWeight:"bold",fontSize:"1.25em",cursor:"pointer"},h=(b.a.shape({title:b.a.string.isRequired,author:b.a.string.isRequired,likes:b.a.number.isRequired,url:b.a.string.isRequired,user:b.a.shape({name:b.a.string.isRequired,username:b.a.string.isRequired})}),Object(l.b)(function(e){return{currentUser:e.users.currentUser}})(function(e){return o.a.createElement("div",{style:d},o.a.createElement(m.a,{style:y,to:"/blogs/".concat(e.blog._id)},e.blog.title," - ",e.blog.author))})),g=n(2),v=n.n(g),O=n(7),w=n.n(O);function E(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){E(a,r,o,i,u,"next",e)}function u(e){E(a,r,o,i,u,"throw",e)}i(void 0)})}}var S="/api/blogs",x=null,k={getAll:function(){return w.a.get(S).then(function(e){return e.data})},create:function(){var e=j(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,w.a.post(S,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=j(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,w.a.put("".concat(S,"/").concat(t._id),t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteBlog:function(){var e=j(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:x}},e.next=3,w.a.delete("".concat(S,"/").concat(t._id),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),addComment:function(){var e=j(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(S,"/").concat(t._id,"/comments"),{text:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),setToken:function(e){x="Bearer ".concat(e)}},_=function(){return w.a.get("/api/users").then(function(e){return e.data})};function P(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var C={doLogin:function(){var e,t=(e=v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){P(a,r,o,i,u,"next",e)}function u(e){P(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r={id:Date.now(),text:e,error:t};n({type:"SHOW_NOTIFICATION",notification:r}),setTimeout(function(){n({type:"HIDE_NOTIFICATION",notification:r})},5e3)}};function A(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){A(a,r,o,i,u,"next",e)}function u(e){A(a,r,o,i,u,"throw",e)}i(void 0)})}}var U=function(){return function(e){var t=window.localStorage.getItem("currentUser");if(t){var n=JSON.parse(t);k.setToken(n.token),e({type:"AUTOLOGIN",user:n})}}},L=function(){return function(){var e=D(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k.setToken(null),e.next=3,window.localStorage.clear();case 3:t({type:"LOGOUT"});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},N=function(e,t){return function(){var n=D(v.a.mark(function n(r){var o;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.doLogin({username:e,password:t});case 3:o=n.sent,k.setToken(o.token),window.localStorage.setItem("currentUser",JSON.stringify(o)),r({type:"LOGGED_IN",user:o}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),r(T("Your username or password is invalid!",!0));case 12:case"end":return n.stop()}},n,this,[[0,9]])}));return function(e){return n.apply(this,arguments)}}()};function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==I(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q={container:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},heading:{borderBottom:"1px solid #eeeeee",margin:0},card:{backgroundColor:"#ffffff",boxShadow:"3px 3px 3px rgba(0,0,0,0.25)",padding:"1em 2em",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"stretch"},input:{margin:"0.5em 0",padding:"0.5em"},submit:{padding:"1em",margin:"0.5em 0"}},M={username:"",password:""},z=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=R(this,G(t).call(this,e))).onSubmit=function(e){e.preventDefault(),n.props.login(n.state.username,n.state.password)},n.onChange=function(e){var t,r,o;n.setState((t={},r=e.target.name,o=e.target.value,r in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t))},n.state=M,n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.onSubmit,style:q.container},o.a.createElement("div",{style:q.card},o.a.createElement("h2",null,"Log in to blog application"),o.a.createElement("input",{name:"username",value:this.state.username,placeholder:"Username",onChange:this.onChange,style:q.input}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange,style:q.input}),o.a.createElement("input",{type:"submit",value:"Log in",style:q.submit})))}}])&&B(n.prototype,r),a&&B(n,a),t}(),F={login:N,logout:L},H=Object(l.b)(null,F)(z);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V={display:"block",border:"2px solid",color:"green",padding:"1em"},Y=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}({},V,{color:"red"}),K=(b.a.string.isRequired,b.a.bool,function(e){return o.a.createElement("div",{className:"notification",style:e.error?Y:V},e.message)}),Q=n(68),X=n(70),Z={navbar:{backgroundColor:"#ffffff",boxShadow:"5px 5px 5px rgba(0,0,0,0.25)",padding:"1em",borderRadius:"4px",display:"flex",alignItems:"center"},link:{textDecoration:"none",fontWeight:"bold",padding:"1em",borderRadius:"10px",color:"#666666"},linkActive:{backgroundColor:"#666666",color:"#ffffff"},user:{marginLeft:"auto"},userName:{fontWeight:"bold"},logout:{backgroundColor:"transparent",borderWidth:0,marginLeft:"1em"}},$={logout:L},ee=Object(X.a)(Object(l.b)(function(e){return{currentUser:e.users.currentUser}},$)(function(e){return o.a.createElement("div",{style:Z.navbar},o.a.createElement(Q.a,{exact:!0,style:Z.link,to:"/",activeStyle:Z.linkActive},"Blogs"),"\xa0",o.a.createElement(Q.a,{style:Z.link,to:"/users",activeStyle:Z.linkActive},"Users"),"\xa0",o.a.createElement("div",{style:Z.user},o.a.createElement("span",{style:Z.userName},e.currentUser.name),o.a.createElement("input",{style:Z.logout,type:"button",value:"logout",onClick:e.logout})))}));function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ne(e,t,n[t])})}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){re(a,r,o,i,u,"next",e)}function u(e){re(a,r,o,i,u,"throw",e)}i(void 0)})}}var ae=function(e){var t=e.title,n=e.author,r=e.url;return function(){var e=oe(v.a.mark(function e(o){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.create({title:t,author:n,url:r});case 2:a=e.sent,o({type:"BLOG_CREATED",blog:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},ie=function(){return function(){var e=oe(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll();case 2:n=e.sent,t({type:"BLOGS_LOADED",blogs:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},ue=function(e){return function(){var t=oe(v.a.mark(function t(n){var r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=te({},e,{likes:e.likes+1}),t.next=3,k.update(r);case 3:n({type:"BLOG_UPDATED",blog:r});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()};function ce(e){return(ce="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var me={input:{display:"block",margin:"0.25em 0",padding:"1em",maxWidth:"90%"},createButton:{backgroundColor:"#229922",color:"#ffffff",padding:"1em",margin:"0.25em 0",borderWidth:0,borderRadius:"4px",fontWeight:"bold"}},de={title:"",author:"",url:""},ye=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=fe(t).call(this,e))||"object"!==ce(o)&&"function"!==typeof o?be(r):o).state=de,n.handleChange=n.handleChange.bind(be(be(n))),n.handleSubmit=n.handleSubmit.bind(be(be(n))),n}var n,a,i,u,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleChange",value:function(e){var t,n,r;this.setState((t={},n=e.target.name,r=e.target.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}},{key:"handleSubmit",value:(u=v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.props.addBlog({title:this.state.title,author:this.state.author,url:this.state.url}),this.props.showNotification("Added new blog ".concat(this.state.title)),this.setState(de);case 4:case"end":return e.stop()}},e,this)}),c=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=u.apply(e,t);function a(e){le(o,n,r,a,i,"next",e)}function i(e){le(o,n,r,a,i,"throw",e)}a(void 0)})},function(e){return c.apply(this,arguments)})},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("h2",null,"Create new blog"),o.a.createElement("input",{placeholder:"Title",name:"title",style:me.input,value:this.state.title,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("input",{placeholder:"Author",name:"author",style:me.input,value:this.state.author,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("input",{placeholder:"URL",name:"url",style:me.input,value:this.state.url,onChange:this.handleChange}),o.a.createElement("br",null),o.a.createElement("input",{type:"submit",value:"Create blog",style:me.createButton}))}}])&&se(n.prototype,a),i&&se(n,i),t}(),he={addBlog:ae,showNotification:T},ge=Object(l.b)(null,he)(ye);function ve(e){return(ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se={button:{backgroundColor:"#ffffff",color:"#333333",padding:"1em",borderWidth:0,borderRadius:"4px",boxShadow:"2px 2px 2px rgba(0,0,0,.125)",margin:"0.5em 0"}},xe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=we(this,Ee(t).call(this,e))).toggleVisibility=function(){n.setState({visible:!n.state.visible})},n.state={visible:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e={display:this.state.visible?"none":""},t={display:this.state.visible?"":"none"};return o.a.createElement("div",{className:this.props.className},o.a.createElement("div",{style:e},o.a.createElement("button",{style:Se.button,onClick:this.toggleVisibility},this.props.buttonLabel)),o.a.createElement("div",{style:t},this.props.children,o.a.createElement("button",{onClick:this.toggleVisibility},"cancel")))}}])&&Oe(n.prototype,r),a&&Oe(n,a),t}();function ke(e){return(ke="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==ke(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pe(this,Ce(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.blogs.sort(function(e,t){return e.likes>=t.likes?-1:1});return o.a.createElement("div",{className:"bloglist"},o.a.createElement("h2",null,"blogs"),e.map(function(e){return o.a.createElement(h,{key:e._id,blog:e})}),o.a.createElement(xe,{className:"add-blog-button",buttonLabel:"Add blog"},o.a.createElement(ge,null)))}}])&&_e(n.prototype,r),a&&_e(n,a),t}(),De={loadBlogs:ie,showNotification:T,logout:L,initUser:U},Ue=Object(l.b)(function(e){return{blogs:e.blogs.blogs,notifications:e.notifications.notifications,currentUser:e.users.currentUser}},De)(Ae);function Le(e){return(Le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return!t||"object"!==Le(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ge=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ie(this,Be(t).call(this,e))).onSubmit=function(e){e.preventDefault(),n.props.addComment(n.props.blog,n.state.commentText),n.setState({commentText:""})},n.onChange=function(e){n.setState({commentText:e.target.value})},n.state={commentText:""},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("input",{placeholder:"Comment",value:this.state.commentText,onChange:this.onChange}),o.a.createElement("input",{type:"submit",value:"Add comment"}))}}])&&Ne(n.prototype,a),i&&Ne(n,i),t}(),We={addComment:function(e,t){return n=oe(v.a.mark(function n(r){var o;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.addComment(e,t);case 2:o=n.sent,r({type:"COMMENT_ADDED",blog:o,comment:t}),r(T("Added comment ".concat(t)));case 5:case"end":return n.stop()}},n,this)})),function(e){return n.apply(this,arguments)};var n}},qe=Object(l.b)(null,We)(Ge),Me=Object(l.b)(function(e){return{currentUser:e.users.currentUser}},function(e,t){return{addLike:function(){return e(ue(t.blog))},deleteBlog:function(){return e((n=t.blog,r=oe(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Really delete ".concat(n.title," by ").concat(n.author,"?"))){e.next=4;break}return e.next=3,k.deleteBlog(n);case 3:t({type:"DELETE_BLOG",blog:n});case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}));var n,r}}})(function(e){var t=e.blog,n=e.currentUser,r=e.addLike,a=e.deleteBlog;return o.a.createElement("div",null,o.a.createElement("h2",null,t.author,": ",t.title),o.a.createElement("div",null,o.a.createElement("a",{href:t.url},t.url)),t.user&&o.a.createElement("div",null,"Added by ",t.user.name),o.a.createElement("div",null,"Likes: ",t.likes," ",o.a.createElement("button",{onClick:r},"Like")),(!t.user||n.id===t.user._id)&&o.a.createElement("button",{onClick:a},"Delete"),o.a.createElement("h3",null,"Comments"),o.a.createElement("ul",null,t.comments&&t.comments.map(function(e,t){return o.a.createElement("li",{key:t},e.text)})),o.a.createElement(qe,{blog:t}))}),ze=Object(l.b)(function(e,t){return{blog:e.blogs.blogs.find(function(e){return e._id===t.id}),currentUser:e.users.currentUser}})(function(e){return o.a.createElement("div",null,e.blog&&o.a.createElement(Me,{blog:e.blog}))}),Fe={cell:{padding:"0.25em",minWidth:"100px"},heading:{borderBottom:"1px solid #333333",backgroundColor:"#d0d0d0",textAlign:"left"},row:[{backgroundColor:"white"},{backgroundColor:"transparent"}]},He=Object(l.b)(function(e){return{users:e.users.users}})(function(e){return o.a.createElement("div",null,o.a.createElement("h2",null,"Users"),o.a.createElement("table",{cellSpacing:"0"},o.a.createElement("thead",null,o.a.createElement("tr",{style:Fe.heading},o.a.createElement("th",{style:Fe.cell},"User"),o.a.createElement("th",{style:Fe.cell},"Blogs"))),o.a.createElement("tbody",null,e.users.map(function(e,t){return o.a.createElement("tr",{key:e.username,style:Fe.row[t%2]},o.a.createElement("td",{style:Fe.cell},o.a.createElement(m.a,{to:"/users/".concat(e.username)},e.name)),o.a.createElement("td",{style:Fe.cell},e.blogs.length))}))))}),Je=Object(l.b)(function(e,t){return{user:e.users.users.find(function(e){return e.username===t.username})}})(function(e){return o.a.createElement("div",null,e.user&&o.a.createElement("div",null,o.a.createElement("h2",null,e.user.name),o.a.createElement("h3",null,"Added blogs"),o.a.createElement("ul",null,e.user.blogs.map(function(e){return o.a.createElement("li",{key:e._id},e.author," : ",e.title)}))))});function Ve(e){return(Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return!t||"object"!==Ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze={backgroundColor:"#f0f0f0",display:"flex",flexDirection:"column",flexGrow:1,padding:"1em 2em",height:"100%"},$e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ke(this,Qe(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.loadBlogs(),this.props.initUser(),this.props.loadUsers()}},{key:"render",value:function(){return o.a.createElement("div",{style:Ze},this.props.notifications.map(function(e){return o.a.createElement(K,{key:e.id,error:e.error,message:e.text})}),null===this.props.currentUser&&o.a.createElement(H,null),!!this.props.currentUser&&o.a.createElement(s.a,null,o.a.createElement("div",{className:"bloglist"},o.a.createElement(ee,null),o.a.createElement(f.a,{exact:!0,path:"/",render:function(){return o.a.createElement(Ue,null)}}),o.a.createElement(f.a,{exact:!0,path:"/users",render:function(){return o.a.createElement(He,null)}}),o.a.createElement(f.a,{path:"/users/:username",render:function(e){var t=e.match;return o.a.createElement(Je,{username:t.params.username})}}),o.a.createElement(f.a,{path:"/blogs/:id",render:function(e){var t=e.match;return o.a.createElement(ze,{id:t.params.id})}}))))}}])&&Ye(n.prototype,r),a&&Ye(n,a),t}(),et={loadBlogs:ie,loadUsers:function(){return e=D(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:n=e.sent,t({type:"USERS_LOADED",users:n});case 4:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)};var e},showNotification:T,logout:L,initUser:U},tt=Object(l.b)(function(e){return{blogs:e.blogs.blogs,notifications:e.notifications.notifications,currentUser:e.users.currentUser}},et)($e);function nt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ot(e,t,n[t])})}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at={blogs:[]},it=function(e,t){return e.blogs.map(function(e){return e._id===t.blog._id?t.blog:e})};function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ct(e,t,n[t])})}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt={currentUser:null,users:[]};function st(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pt(e,t,n[t])})}return e}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt={notifications:[]},mt=Object(u.d)(Object(u.c)({blogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BLOGS_LOADED":return rt({},e,{blogs:t.blogs});case"BLOG_CREATED":return rt({},e,{blogs:nt(e.blogs).concat([t.blog])});case"BLOG_UPDATED":case"COMMENT_ADDED":return rt({},e,{blogs:it(e,t)});case"DELETE_BLOG":return rt({},e,{blogs:e.blogs.filter(function(e){return e._id!==t.blog._id})});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT":return ut({},e,{currentUser:null});case"LOGGED_IN":case"AUTOLOGIN":return ut({},e,{currentUser:t.user});case"USERS_LOADED":return ut({},e,{users:t.users});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_NOTIFICATION":return ft({},e,{notifications:st(e.notifications).concat([t.notification])});case"HIDE_NOTIFICATION":return ft({},e,{notifications:e.notifications.filter(function(e){return e.id!==t.notification.id})});default:return e}}}),Object(u.a)(c.a));i.a.render(o.a.createElement(l.a,{store:mt},o.a.createElement(tt,null)),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.f55087d8.chunk.js.map